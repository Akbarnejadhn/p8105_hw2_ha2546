p8105\_hw2\_ha2546
================
Hana Akbarnejad
9/27/2019

``` r
library(readxl)

trash_data = 
  read_excel("data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", sheet = "Mr. Trash Wheel") %>% 
  janitor::clean_names() %>% 
  select(-x15) %>% 
  drop_na(dumpster) %>% 
  mutate(
    sports_balls = round(sports_balls),
    as.integer(sports_balls)
  )
```

    ## New names:
    ## * `` -> ...15

``` r
prcpt2017_data = 
  read_excel("data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", sheet = "2017 Precipitation", skip = 1) %>% 
  janitor::clean_names() %>% 
  drop_na() %>% 
  mutate(
    year = "2017"
  )

prcpt2018_data = 
  read_excel("data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", sheet = "2018 Precipitation", skip = 1) %>% 
  janitor::clean_names() %>% 
  drop_na() %>% 
  mutate(
    year = "2018"
  )

prcpt_data =
  bind_rows(prcpt2017_data, prcpt2018_data) %>%
  mutate(
    month = month.abb[month]
  )
prcpt_data
```

    ## # A tibble: 19 x 3
    ##    month total year 
    ##    <chr> <dbl> <chr>
    ##  1 Jan    2.34 2017 
    ##  2 Feb    1.46 2017 
    ##  3 Mar    3.57 2017 
    ##  4 Apr    3.99 2017 
    ##  5 May    5.64 2017 
    ##  6 Jun    1.4  2017 
    ##  7 Jul    7.09 2017 
    ##  8 Aug    4.44 2017 
    ##  9 Sep    1.95 2017 
    ## 10 Oct    0    2017 
    ## 11 Nov    0.11 2017 
    ## 12 Dec    0.94 2017 
    ## 13 Jan    0.96 2018 
    ## 14 Feb    5.3  2018 
    ## 15 Mar    2.18 2018 
    ## 16 Apr    3.2  2018 
    ## 17 May    9.27 2018 
    ## 18 Jun    0.2  2018 
    ## 19 Jul    2.39 2018

In Mr.Â Trash Wheel data, we have 285 observations, and we have key
variables such as dumpster, month, year, and date. In resulting
precipitation dataset which we obtained from combining precipitation
data of 2017 and 2018, we have 19 total precipitation observations in
total and we have ey variables month and year. According to the
precipitation dataset, the total precipitation in 2018 is 23.5 inches
and the median number of sports balls in a dumpster in 2017 is 8.

``` r
pols_month_data = read_csv("data/pols-month.csv") %>% 
  janitor::clean_names() %>%
  separate(mon, into = c("year", "month", "day")) %>% 
  mutate(
    year = as.integer(year),
    day = as.integer(day),
    month = month.abb[as.integer(month)],
    president = recode(prez_gop, "1" = "gop" , "0" = "dem"),
  ) %>% 
    select(-starts_with("prez"))
```

    ## Parsed with column specification:
    ## cols(
    ##   mon = col_date(format = ""),
    ##   prez_gop = col_double(),
    ##   gov_gop = col_double(),
    ##   sen_gop = col_double(),
    ##   rep_gop = col_double(),
    ##   prez_dem = col_double(),
    ##   gov_dem = col_double(),
    ##   sen_dem = col_double(),
    ##   rep_dem = col_double()
    ## )

    ## Warning: Unreplaced values treated as NA as .x is not compatible. Please
    ## specify replacements exhaustively or supply .default

``` r
snp_data = read_csv("data/snp.csv") %>% 
  janitor::clean_names() %>% 
  separate(date, into = c("month", "day", "year")) %>%    # why seperates like this?
  mutate (
    year = as.integer(year),
    day = as.integer(day),
    month = as.integer(month)
  ) %>% 
  arrange(year, month) %>% 
  select(year, month, day, close) %>% 
  mutate(                                                 # had to mutate twice(?)
    month = month.abb[as.integer(month)]
  )
```

    ## Parsed with column specification:
    ## cols(
    ##   date = col_character(),
    ##   close = col_double()
    ## )

``` r
unemployment_data = read_csv("data/unemployment.csv") %>% 
  pivot_longer(
    Jan:Dec,
    names_to = "month",
    values_to = "unemployment_percent"
  ) %>% 
    janitor::clean_names()                                      #can we use janitor here?
```

    ## Parsed with column specification:
    ## cols(
    ##   Year = col_double(),
    ##   Jan = col_double(),
    ##   Feb = col_double(),
    ##   Mar = col_double(),
    ##   Apr = col_double(),
    ##   May = col_double(),
    ##   Jun = col_double(),
    ##   Jul = col_double(),
    ##   Aug = col_double(),
    ##   Sep = col_double(),
    ##   Oct = col_double(),
    ##   Nov = col_double(),
    ##   Dec = col_double()
    ## )

``` r
join_pols_snp = left_join(pols_month_data, snp_data, by = c("year", "month", "day"))

join_all = left_join(join_pols_snp, unemployment_data, by = c("year", "month"))        # could we use piping here?
```

## inline code for problem 2
